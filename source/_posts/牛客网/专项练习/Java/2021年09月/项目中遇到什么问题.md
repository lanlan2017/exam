---
title: 项目中遇到什么问题
categories:
  - 牛客网
  - 专项练习
  - Java
  - 2021年09月
abbrlink: 2aa9236e
date: 2021-09-03 10:43:56
updated: 2021-09-03 10:43:56
---
# GUI工具
## 主类中事件处理使用匿名内部类实现，代码太多，阅读不便，后续开发麻烦
把匿名内部类改成自定义事件处理类。

## 添加撤销快捷键
使用list缓存输入的内容，当在文本框中输入时，把输入后的内容缓存到List中，当改变删除内容时，从List中删除上一条缓存。
当按下Ctrl+Z时，从List中删除一条缓存，然后，把List中的最后一条设置为TextField的内容。

## 在TextArea中显示文本的时候，首行被隐藏的问题
### 描述
把运算的结果通过setText设置到文本域中时，显示的内容不全，第一行被隐藏。
### 原因
#### 行数统计不正确
我用的是scanner来统计行数，设初始行数为0,hashNextLine()判断是否有下一行，如果有下一行，则读入下一行，并且计数器+1.
然后我就把这个计数器的值作为行数。
这实际上是不对的。因为最后一行，并没有下一行。所以统计的行数实际上少了一行。

这种方式相当于统计换行符的格式化。
#### 解决方案
行数=换行符个数+1;
或者把计数器的初始值设置为1

### 解决方案2
因为此时的光标位于末尾，优先显示的是行尾。可以把光标设置到行首，这样第一行优先显示。
具体的做法是：
```java
// 设置选择光标的位置为开头
textArea.setSelectionStart(0);
textArea.setSelectionEnd(0);
```

视图（View）是从一个或多个表（或视图）导出的表。
视图与表（有时为与视图区别，也称表为基本表——Base Table）不同，视图是一个虚表，即视图所对应的数据不进行实际存储，数据库中只存储视图的定义，在对视图的数据进行操作时，系统根据视图的定义去操作与视图相关联的基本表。
